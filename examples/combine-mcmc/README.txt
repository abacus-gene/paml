Notes by Sandra √Ålvarez-Carretero
Last modified: 20 January 2026

As of PAML v4.10.10, you can now combine various MCMC files
(e.g., "mcmc.txt") generated by independent MCMC runs with 
MCMCtree into a unique MCMC file.

You need to save the MCMC files (*txt) in a directory and
run MCMCtree as follows:

```
mcmctree --combine <directory_name>
```

You can use relative/absolute paths or the name of the
directory with the MCMC files (the latter will work if you
run the command above from the location where such a directory
is). E.g.: if your directory was called "mcmc_results", these
are just some of the ways you could run MCMCtree to combine
MCMC files:

```
mcmctree --combine mcmc_results
mcmctree --combine ../../mcmc_results
mcmctree --combine /usr/phylo/dating/mcmc_results
```

Please note that MCMCtree will sort your MCMC files alphanumerically,
thus samples in files "mcmc_1.txt", "mcmc_21.txt", "mcmc_3.txt", and
"mcmc_2.txt" would be concatenated in the following order:

mcmc_1.txt | mcmc_2.txt | mcmc_3.txt | mcmc_21.txt

If successful, you will see a new directory called "mcmc_combined"
with a text file (i.e., "mcmc_combined.txt") have been created.
File "mcmc_combined.txt" will contain all samples from the individual
MCMC files. The first column (number of iterations) will go from 1 to
N (where N is the total number of lines in "mcmc_combined.txt") so that
this file can be parsed without issues in other software to carry out
MCMC diagnostics.

==================================================================
EXAMPLE 
==================================================================
You can combine the samples in files "mcmc_1.txt", "mcmc_3.txt", 
and "mcmc_21.txt" by running the following command from this
directory:

```
mcmctree --combine to_combine
```

You will see the following screen output:

```
MCMCTREE in paml version 4.10.10, 20 Jan 2026

Scanning directory: to_combine
Found 3 files to combine:
  1. to_combine/mcmc_1.txt
  2. to_combine/mcmc_3.txt
  3. to_combine/mcmc_21.txt

Output directory: mcmc_combined/
Output file: mcmc_combined/mcmc_combined.txt

Processing file 3/3: to_combine/mcmc_21.txt

Successfully combined 24 samples from 3 files
Output written to: mcmc_combined/mcmc_combined.txt
Iteration numbers: 1 to 24
```

>NOTE: Line "Processing file 3/3: to_combine/mcmc_21.txt" 
updates the counter and file name while files are being
processed.

You will then see a new directory called "mcmc_combined"
with the combined MCMC files saved in file "mcmc_combined.txt".
